const VIDEO_LINK = "<br> <strong>↓「学びエイド」の解説動画で確認</strong> <br><a href='https://www.manabi-aid.jp/lesson/id/7714/63195' target='_blank'>解説動画を見る</a><br><small>（※学びエイドのログインが必要です）</small>";

window.QUIZ_DATA = [
    // --- 第1部：背理法の基礎・仮定の立て方 (1-10) ---
    // 問題 1
    {
        question: "背理法を用いて「命題 P」を証明するためには、最初に何を仮定すればよいか答えよ。",
        answer: "命題 P が成り立たない（偽である）と仮定する",
        rationale: "<strong>解説: </strong><br>背理法（Proof by Contradiction）とは、「結論を否定して矛盾を導く」ことによって、元の命題が正しいことを証明する方法です。<br>したがって、スタート地点では必ず「証明したいこと（結論）の否定」を仮定します。" + VIDEO_LINK
    },
    // 問題 2
    {
        question: "背理法を用いて「$\\sqrt{2}$ は無理数である」を証明したい。最初に立てるべき仮定を述べよ。",
        answer: "$\\sqrt{2}$ は有理数である",
        rationale: "<strong>解説: </strong><br>証明したい結論は「無理数である」です。<br>無理数の定義は「有理数ではない実数」のことですから、その否定は「有理数である」となります。<br>この仮定から出発して矛盾が生じることを示せば、元の「無理数である」という主張が正しかったことになります。" + VIDEO_LINK
    },
    // 問題 3
    {
        question: "命題「$a, b$ の少なくとも一方は奇数である」を背理法で証明したい。最初に立てるべき仮定を述べよ。",
        answer: "$a, b$ はともに偶数である",
        rationale: "<strong>解説: </strong><br>結論「少なくとも一方は奇数」の否定を作ります。<br>ド・モルガンの法則により、「$A$ または $B$」の否定は「$A$でない かつ $B$でない」となります。<br>「奇数」の否定は「偶数」なので、「$a$ が偶数 かつ $b$ が偶数」、すなわち「ともに偶数」と仮定します。" + VIDEO_LINK
    },
    // 問題 4
    {
        question: "命題「すべての自然数 $n$ について、〜である」を背理法で証明したい。最初に立てるべき仮定を述べよ。",
        answer: "ある自然数 $n$ について、〜でない",
        rationale: "<strong>解説: </strong><br>全称命題「すべての〜についてPである」の否定は、存在命題「Pでないものが（少なくとも1つ）存在する」となります。<br>「例外が1つでもある」と仮定して、その例外が存在すると矛盾が起きることを示します。" + VIDEO_LINK
    },
    // 問題 5
    {
        question: "命題「$x > 0$ ならば $y > 0$」を背理法で証明したい。最初に立てるべき仮定を述べよ。",
        answer: "$x > 0$ であるが、$y \\leqq 0$ である",
        rationale: "<strong>解説: </strong><br>条件付き命題「$p \\implies q$」の否定は、「$p$ であって、かつ $q$ でない」ことです。<br>仮定 $p$ ($x>0$) はそのまま認めつつ、結論 $q$ ($y>0$) だけを否定して $y \\leqq 0$ とします。<br>これにより矛盾を導きます。" + VIDEO_LINK
    },
    // 問題 6
    {
        question: "背理法による証明の終わりに、矛盾が生じたことによって導かれる結論（定型文）は何か。",
        answer: "仮定が誤りであり、元の命題は真である",
        rationale: "<strong>解説: </strong><br>論理的に正しい推論を行ったにもかかわらず矛盾（$1=0$ や $奇数=偶数$ など）が生じた場合、その原因は「出発点（仮定）」にしかあり得ません。<br>よって、「最初に立てた仮定が間違っていた $\\to$ 逆（元の命題）が正しい」と結論づけます。" + VIDEO_LINK
    },
    // 問題 7
    {
        question: "背理法で「$\\sqrt{3}$ は有理数である」と仮定したとき、$\\sqrt{3}$ をどのような式で表すか。$m, n$ の条件とともに答えよ。",
        answer: "$\\sqrt{3} = \\frac{m}{n}$ ($m, n$ は互いに素な自然数)",
        rationale: "<strong>解説: </strong><br>有理数とは「整数の比（分数）」で表せる数のことです。<br>ここで重要なのが「<strong>互いに素</strong>（1以外に公約数を持たない）」という条件です。<br>この「これ以上約分できない状態」を設定しておくことで、後に「両方とも割り切れる（約分できる）」という矛盾を導くことができます。" + VIDEO_LINK
    },
    // 問題 8
    {
        question: "命題「$x, y, z$ のうち少なくとも1つは正の数である」の否定を述べよ（背理法の仮定となる）。",
        answer: "$x, y, z$ はすべて0以下の数である",
        rationale: "<strong>解説: </strong><br>「少なくとも1つ」の否定は「すべて〜でない」です。<br>「正の数（$>0$）」の否定は「0以下の数（$\\leqq 0$）」です。<br>よって、「すべて0以下」と仮定します。" + VIDEO_LINK
    },
    // 問題 9
    {
        question: "命題「$x = 1$」を背理法で証明する際、仮定すべき式は何か。",
        answer: "$x \\neq 1$",
        rationale: "<strong>解説: </strong><br>等式が成り立つことを示したい場合、その否定である不等式「$x \\neq 1$」を仮定します。<br>「$x > 1$ の場合」と「$x < 1$ の場合」に分けて矛盾を示すこともあります。" + VIDEO_LINK
    },
    // 問題 10
    {
        question: "背理法が特に有効なのは、どのようなことを証明するときか。1つ例を挙げよ。",
        answer: "「〜でない」「存在しない」「無限にある」などの証明",
        rationale: "<strong>解説: </strong><br>「無理数（有理数でない）」、「素数は無限にある（最大素数は存在しない）」、「解なし」など、直接示すのが難しい『否定的な命題』や『無限に関する命題』に対して、背理法は非常に強力なツールとなります。" + VIDEO_LINK
    },

    // --- 第2部：無理数・実数の証明 (11-25) ---
    // 問題 11
    {
        question: "$\\sqrt{2}$ が無理数であることを証明する過程で、$\\sqrt{2} = \\frac{m}{n}$ ($m,n$は互いに素) とおき、両辺を2乗して分母を払うと $2n^2 = m^2$ となる。ここから言える $m$ の性質は何か。",
        answer: "$m$ は偶数である",
        rationale: "<strong>解説: </strong><br>式 $m^2 = 2n^2$ は、$m^2$ が2の倍数（偶数）であることを意味します。<br>平方数 $m^2$ が偶数ならば、元の数 $m$ も必ず偶数になります。<br>（対偶「$m$が奇数なら$m^2$も奇数」により証明可能）" + VIDEO_LINK
    },
    // 問題 12
    {
        question: "（前問の続き）$m$ が偶数と分かったので $m=2k$ とおいて元の式に代入すると、$2n^2 = (2k)^2 = 4k^2$ となり、$n^2 = 2k^2$ が得られる。ここから導かれる矛盾は何か。",
        answer: "$n$ も偶数となり、$m, n$ が互いに素であることに矛盾する",
        rationale: "<strong>解説: </strong><br>$n^2 = 2k^2$ より $n^2$ も偶数、したがって $n$ も偶数となります。<br>$m$ も $n$ も偶数ということは、両方とも2で割り切れる（公約数2を持つ）ことになります。<br>これは最初に設定した「$m, n$ は互いに素」という仮定と矛盾します。" + VIDEO_LINK
    },
    // 問題 13
    {
        question: "背理法を用いて「$\\sqrt{3}$ は無理数である」を証明する際、矛盾を導くために利用する整数の性質は何か。",
        answer: "平方数 $n^2$ が3の倍数ならば、元の数 $n$ も3の倍数である",
        rationale: "<strong>解説: </strong><br>$\\sqrt{2}$ の証明では「偶数（2の倍数）」に着目しましたが、$\\sqrt{3}$ では「3の倍数」に着目します。<br>「$m^2 = 3n^2$ $\\to$ $m$は3の倍数 $\\to$ $m=3k$ $\\to$ $n^2=3k^2$ $\\to$ $n$も3の倍数 $\\to$ 互いに素に矛盾」という流れになります。" + VIDEO_LINK
    },
    // 問題 14
    {
        question: "背理法を用いて「$\\sqrt{6}$ は無理数である」を証明する場合、仮定 $\\sqrt{6} = \\frac{m}{n}$ から導かれる式 $m^2 = 6n^2$ を見て、矛盾を導くために着目すべき素因数は何か（2または3以外）。",
        answer: "2 または 3（どちらでも可能）",
        rationale: "<strong>解説: </strong><br>6は $2 \\times 3$ なので、「偶数」の性質を使っても、「3の倍数」の性質を使っても証明できます。<br>例えば「2の倍数」に着目すれば $\\sqrt{2}$ の時と同様に $m, n$ が共に偶数となって矛盾します。" + VIDEO_LINK
    },
    // 問題 15
    {
        question: "命題「$1+\\sqrt{2}$ は無理数である」を背理法で証明したい。仮定「$1+\\sqrt{2}$ は有理数 $r$ である」とした後、どのように変形して矛盾を導くか。",
        answer: "$\\sqrt{2} = r - 1$ と変形し、左辺が無理数、右辺が有理数となる矛盾を示す",
        rationale: "<strong>解説: </strong><br>$1+\\sqrt{2} = r$ ($r$は有理数) とおくと、$\\sqrt{2} = r - 1$ となります。<br>ここで、有理数同士の差 ($r-1$) は有理数ですが、$\\sqrt{2}$ は無理数であることが既知であれば、「無理数 $=$ 有理数」というあり得ない等式になり、矛盾が生じます。" + VIDEO_LINK
    },
    // 問題 16
    {
        question: "背理法を用いて「$\\sqrt{2} + \\sqrt{3}$ は無理数である」を証明する際、仮定 $\\sqrt{2} + \\sqrt{3} = r$ ($r$は有理数) の両辺を2乗して整理すると、どのような矛盾が導けるか。",
        answer: "$\\sqrt{6}$ が有理数となってしまい矛盾する",
        rationale: "<strong>解説: </strong><br>両辺を2乗すると、$2 + 2\\sqrt{6} + 3 = r^2$ $\\to$ $5 + 2\\sqrt{6} = r^2$ $\\to$ $\\sqrt{6} = \\frac{r^2 - 5}{2}$ となります。<br>右辺は有理数ですが、左辺 $\\sqrt{6}$ は無理数です。<br>これにより矛盾が生じます。" + VIDEO_LINK
    },
    // 問題 17
    {
        question: "命題「$\\log_{2} 3$ は無理数である」を背理法で証明する。$\\log_{2} 3 = \\frac{m}{n}$ ($m,n$は自然数) と仮定した後、対数の定義を用いて式を変形せよ。",
        answer: "$2^{\\frac{m}{n}} = 3$ すなわち $2^m = 3^n$",
        rationale: "<strong>解説: </strong><br>対数の定義 $y = \\log_a x \\iff a^y = x$ を使います。<br>式を整理して分数をなくすと $2^m = 3^n$ となります。<br>左辺は偶数（2の因数のみ）、右辺は奇数（3の因数のみ）となり、自然数の範囲でこれが成立することはあり得ないため（素因数分解の一意性）、矛盾します。" + VIDEO_LINK
    },
    // 問題 18
    {
        question: "「$\\sqrt[3]{2}$ は無理数である」を背理法で証明する際、$\\sqrt[3]{2} = \\frac{m}{n}$ とおいて導かれる式 $m^3 = 2n^3$ から、どのような矛盾を導くか。",
        answer: "$m, n$ がともに偶数となり、互いに素であることに矛盾する",
        rationale: "<strong>解説: </strong><br>平方根の時と同様です。<br>$m^3$ が偶数なら $m$ も偶数（$m=2k$）。<br>代入すると $8k^3 = 2n^3 \\to 4k^3 = n^3$。<br>$n^3$ が偶数（4の倍数）なので $n$ も偶数。<br>よって $m, n$ は共に偶数となり矛盾します。" + VIDEO_LINK
    },
    // 問題 19
    {
        question: "命題「$x, y$ が有理数で $x + y\\sqrt{2} = 0$ ならば $y=0$」を背理法で証明する。仮定「$y \\neq 0$」から導かれる矛盾は何か。",
        answer: "$\\sqrt{2} = -\\frac{x}{y}$ となり、$\\sqrt{2}$ が有理数となってしまう",
        rationale: "<strong>解説: </strong><br>$y \\neq 0$ ならば、等式を $\\sqrt{2}$ について解くことができます。<br>$\\sqrt{2} = -\\frac{x}{y}$ となりますが、右辺は有理数の商なので有理数です。<br>しかし左辺は無理数なので矛盾します。<br>したがって $y=0$ でなければなりません（さらに $x=0$ も導かれます）。" + VIDEO_LINK
    },
    // 問題 20
    {
        question: "有理数 $\\alpha$ と無理数 $\\beta$ の和 $\\alpha + \\beta$ が無理数であることを背理法で証明せよ。仮定と矛盾の内容を答えよ。",
        answer: "仮定「$\\alpha+\\beta=r$（有理数）」 $\\to$ $\\beta=r-\\alpha$（有理数）となり、$\\beta$ が無理数であることに矛盾",
        rationale: "<strong>解説: </strong><br>和を有理数 $r$ と仮定すると、無理数 $\\beta$ が「有理数 $-$ 有理数」で表せることになってしまいます。<br>有理数は加減乗除（0除算除く）について閉じているため、これは矛盾です。" + VIDEO_LINK
    },
    // 問題 21
    {
        question: "命題「素数は無限に存在する」を背理法で証明する（ユークリッドの証明）。最初に仮定することは何か。",
        answer: "素数は有限個しか存在しない（有限個のリスト $p_1, p_2, ..., p_n$ で全てである）",
        rationale: "<strong>解説: </strong><br>「無限にある」の否定、「有限個しかない」を仮定します。<br>有限個であれば、それらを全て掛け合わせた数に1を足した数 $N = p_1 p_2 \\cdots p_n + 1$ を考えることができます。" + VIDEO_LINK
    },
    // 問題 22
    {
        question: "（前問の続き）数 $N = p_1 p_2 \\cdots p_n + 1$ を考えると、どのような矛盾が生じるか。",
        answer: "$N$ はどの素数 $p_i$ で割っても1余るため、リストにない新しい素数を因数に持つ（あるいは $N$ 自身が新しい素数である）ことになり矛盾する",
        rationale: "<strong>解説: </strong><br>仮定では $p_1$ から $p_n$ が「すべての素数」でした。<br>しかし $N$ はこれら全ての素数で割り切れません（余り1）。<br>したがって $N$ はリストにない素因数を持つか、$N$ 自身がリストにない素数でなければなりません。<br>これは「リストですべて」という仮定に矛盾します。" + VIDEO_LINK
    },
    // 問題 23
    {
        question: "「最大公約数が1であること」を背理法で証明する際、仮定として置くべき条件は何か。",
        answer: "最大公約数が $d > 1$ である（1より大きい公約数 $d$ を持つ）",
        rationale: "<strong>解説: </strong><br>「互いに素」や「既約分数」の証明で使います。<br>共通の約数を持つと仮定して、それが矛盾を引き起こすことを示します。" + VIDEO_LINK
    },
    // 問題 24
    {
        question: "命題「方程式 $x^2 - 2 = 0$ は有理数解を持たない」の証明は、「$\\sqrt{2}$ が無理数である」ことの証明と同じである。その理由は？",
        answer: "この方程式の解は $x = \\pm\\sqrt{2}$ だから",
        rationale: "<strong>解説: </strong><br>解が有理数だと仮定することは、すなわち $\\pm\\sqrt{2}$ が有理数だと仮定することと同じです。<br>証明の手順（$x=m/n$ とおく等）も全く同一になります。" + VIDEO_LINK
    },
    // 問題 25
    {
        question: "背理法を用いて「円周率 $\\pi$ は有理数でない」と仮定したとき、矛盾を導くには高度な積分計算が必要となるが、その出発点となる仮定の式は何か。",
        answer: "$\\pi = \\frac{a}{b}$ ($a, b$ は正の整数)",
        rationale: "<strong>解説: </strong><br>ランベルトやニーベンによる証明が有名です。<br>円周率を有理数と仮定し、特定の関数を積分することで、「正の整数なのに0と1の間にある」といった矛盾を導き出します。" + VIDEO_LINK
    },

    // --- 第3部：整数・方程式の証明 (26-35) ---
    // 問題 26
    {
        question: "命題「整数 $a, b, c$ について $a^2+b^2=c^2$ ならば、$a, b$ の少なくとも一方は3の倍数である」を背理法で証明したい。仮定すべきことは何か。",
        answer: "$a, b$ はともに3の倍数でない",
        rationale: "<strong>解説: </strong><br>結論「少なくとも一方は3の倍数」の否定は「すべて3の倍数でない」です。<br>3の倍数でない数の2乗は3で割って1余るため、$a^2 \\equiv 1, b^2 \\equiv 1$ となり、$a^2+b^2 \\equiv 2 \\pmod 3$ となります。" + VIDEO_LINK
    },
    // 問題 27
    {
        question: "（前問の続き）$a^2+b^2 \\equiv 2 \\pmod 3$ となった。しかし平方数 $c^2$ を3で割った余りとしてあり得る値は何か。これにより生じる矛盾は？",
        answer: "平方数の余りは0か1しかあり得ないため、余りが2になることは矛盾する",
        rationale: "<strong>解説: </strong><br>整数 $k$ に対して $(3k)^2 \\equiv 0$、$(3k\\pm 1)^2 \\equiv 1$ です。<br>どんな整数も2乗して3で割った余りが2になることはありません。<br>よって $a^2+b^2=c^2$ という等式は成立しません。" + VIDEO_LINK
    },
    // 問題 28
    {
        question: "命題「$n$ が整数のとき、$n^2$ が偶数ならば $n$ も偶数である」を背理法で証明する。仮定「$n$ は奇数である」から導かれる矛盾は何か。",
        answer: "$n^2$ が奇数となり、仮定「$n^2$ は偶数」と矛盾する",
        rationale: "<strong>解説: </strong><br>$n$ が奇数なら $n=2k+1$。<br>2乗すると $n^2 = 4k^2+4k+1 = 2(2k^2+2k)+1$ なので奇数。<br>これは前提条件である「$n^2$ は偶数」と矛盾します。<br>（これは対偶法のロジックそのものですが、背理法として記述することも可能です）" + VIDEO_LINK
    },
    // 問題 29
    {
        question: "命題「2次方程式 $ax^2+bx+c=0$ ($a,b,c$は奇数) は有理数解を持たない」を背理法で証明する。有理数解を $p/q$ ($p,q$互いに素) とおいて代入し、分母を払った式 $ap^2 + bpq + cq^2 = 0$ を考える。$p, q$ がともに奇数だと仮定すると、どのような矛盾が生じるか。",
        answer: "左辺が（奇数+奇数+奇数）となり奇数になるが、右辺は0（偶数）なので矛盾する",
        rationale: "<strong>解説: </strong><br>$a, b, c, p, q$ すべて奇数の場合、3つの項 $ap^2, bpq, cq^2$ はすべて奇数になります。<br>奇数を3つ足すと奇数になりますが、等式の右辺は0（偶数）なので矛盾します。<br>（実際には $p, q$ の偶奇の組み合わせ全てで矛盾を示します）" + VIDEO_LINK
    },
    // 問題 30
    {
        question: "背理法を用いて「$x^3 + x - 1 = 0$ は整数解を持たない」ことを証明したい。整数解 $n$ が存在すると仮定して式を変形したとき、矛盾を導くために利用できる $n$ の性質（因数分解）は何か。",
        answer: "$n(n^2+1) = 1$ より、$n$ は 1 の約数でなければならない",
        rationale: "<strong>解説: </strong><br>方程式を $x(x^2+1) = 1$ と変形します。<br>もし整数解 $n$ があるなら、$n$ は積が1になる整数のペアの一つ、つまり $1$ か $-1$ でなければなりません。<br>しかし $n=1$ のとき $1(2)=2 \\neq 1$、$n=-1$ のとき $-1(2)=-2 \\neq 1$ となり、どちらも解になりません。<br>よって矛盾します。" + VIDEO_LINK
    },

    // --- 第4部：幾何・不等式・その他の証明 (31-40) ---
    // 問題 31
    {
        question: "「三角形の内角の和は $180^\\circ$ である」ことを前提として、「三角形は2つの直角を持つことはできない」を背理法で証明せよ。仮定と矛盾を答えよ。",
        answer: "仮定「2つの直角を持つ」 $\\to$ 内角の和が $90+90+\\alpha > 180^\\circ$ となり矛盾",
        rationale: "<strong>解説: </strong><br>もし $\\angle A = 90^\\circ, \\angle B = 90^\\circ$ ならば、もう一つの角 $\\angle C (>0)$ を足すと合計が $180^\\circ$ を超えてしまいます。<br>これは三角形の内角の和が一定であることに矛盾します。" + VIDEO_LINK
    },
    // 問題 32
    {
        question: "「平面上の異なる2本の直線が交わらないならば、それらは平行である」の背理法による証明。仮定「平行でない」から導かれる矛盾は？",
        answer: "平行でないなら必ずどこか1点で交わることになり、「交わらない」という前提に矛盾する",
        rationale: "<strong>解説: </strong><br>平面幾何の公理に関わる部分です。<br>「平行でない」の定義は「交わる」ことなので、仮定した瞬間に前提条件と矛盾します。" + VIDEO_LINK
    },
    // 問題 33
    {
        question: "命題「$x > 0$ ならば $x + \\frac{1}{x} \\geqq 2$」を背理法で証明する。仮定すべき不等式は何か。",
        answer: "$x + \\frac{1}{x} < 2$",
        rationale: "<strong>解説: </strong><br>結論「$\\geqq 2$」を否定して、「$x + \\frac{1}{x} < 2$」と仮定します。<br>式変形すると $x^2 + 1 < 2x \\to x^2 - 2x + 1 < 0 \\to (x-1)^2 < 0$ となります。<br>実数の2乗が負になることはないため、矛盾します。" + VIDEO_LINK
    },
    // 問題 34
    {
        question: "「13人の人がいれば、同じ誕生月の人が少なくとも2人いる（鳩の巣原理）」を背理法で説明せよ。仮定と矛盾は？",
        answer: "仮定「全員の誕生月が異なる」 $\\to$ 1年は12ヶ月しかないので、最大でも12人しか存在できず、13人いることに矛盾する",
        rationale: "<strong>解説: </strong><br>「部屋割り論法」の典型例です。<br>結論の否定「全員バラバラ」を仮定すると、必要な「箱（月）」の数が足りなくなるという矛盾を示します。" + VIDEO_LINK
    },
    // 問題 35
    {
        question: "命題「自然数の中で最大の数は存在しない」を背理法で証明せよ。仮定「最大の自然数 $M$ が存在する」から導かれる矛盾は？",
        answer: "$M+1$ も自然数であり、これは $M$ より大きいため、「$M$ が最大」という仮定に矛盾する",
        rationale: "<strong>解説: </strong><br>どんな自然数を持ってきても、それに1を足せばもっと大きな自然数が作れます。<br>「最大が存在する」という仮定自体が、自然数の「無限に続く」という性質と矛盾します。" + VIDEO_LINK
    },
    // 問題 36
    {
        question: "命題「$a > 1$ ならば $a^2 > a$」を背理法で証明する。仮定「$a^2 \\leqq a$」から導かれる矛盾は？",
        answer: "$a(a-1) \\leqq 0$ となるが、$a > 1$ ならば $a$ も $a-1$ も正なので積は正になるはずであり、矛盾する",
        rationale: "<strong>解説: </strong><br>不等式の証明に背理法を使う例です。<br>否定した不等式を変形していくと、元の条件（$a>1$）ではあり得ない符号の結果（負または0）が出てきて矛盾します。" + VIDEO_LINK
    },
    // 問題 37
    {
        question: "命題「$x^2 + y^2 = 0$ ならば $x=0$ かつ $y=0$」を背理法で証明する。仮定「$x \\neq 0$ または $y \\neq 0$」から導かれる矛盾は？",
        answer: "$x^2 > 0$ または $y^2 > 0$ となり、和 $x^2+y^2$ が正の数（0でない）になってしまう矛盾",
        rationale: "<strong>解説: </strong><br>少なくとも一方が0でなければ、その2乗は正です。<br>正の数と、0以上の数を足せば、必ず正になります。<br>これは前提条件 $x^2+y^2=0$ と矛盾します。" + VIDEO_LINK
    },
    // 問題 38
    {
        question: "「方程式 $2^x = 3$ の解 $x$ は整数でない」ことを背理法で証明せよ。",
        answer: "$x$ が整数と仮定すると、$2^x$（偶数または分数）が $3$（奇数）と等しくなることはなく矛盾する",
        rationale: "<strong>解説: </strong><br>$x > 0$ なら $2^x$ は偶数（$2, 4, 8...$）。$3$ は奇数なので不一致。<br>$x \\leqq 0$ なら $2^x$ は $1$ 以下。$3$ とは不一致。<br>よって整数解は存在しません。" + VIDEO_LINK
    },
    // 問題 39
    {
        question: "命題「相異なる3つの数 $a, b, c$ について、少なくとも1つは平均値 $(a+b+c)/3$ 以上である」を背理法で証明せよ。仮定は何か。",
        answer: "すべての数が平均値より小さい ($a < Avg, b < Avg, c < Avg$)",
        rationale: "<strong>解説: </strong><br>すべてが平均値未満だと仮定して和をとると、$a+b+c < 3 \\times Avg = a+b+c$ となり、「$S < S$」という矛盾が生じます。<br>平均の性質を利用した論証です。" + VIDEO_LINK
    },
    // 問題 40
    {
        question: "背理法において、結論の否定以外に「前提条件」自体を否定して仮定してはいけない理由を答えよ。",
        answer: "前提条件は「与えられた事実」であり、それを否定すると証明すべき世界自体が変わってしまうから",
        rationale: "<strong>解説: </strong><br>背理法で否定するのはあくまで「結論」部分だけです。<br>前提（例：「$n$が偶数ならば」の部分）は真実として受け入れた上で、結論を否定して矛盾を探します。<br>前提を否定してしまうと、問題の意図とは異なる議論になってしまいます。" + VIDEO_LINK
    },

    // --- 第5部：応用・総合問題 (41-50) ---
    // 問題 41
    {
        question: "「有理数係数の方程式 $f(x)=0$ が $a+\\sqrt{b}$ ($b$は平方数でない) を解に持つならば、$a-\\sqrt{b}$ も解である」ことを示す際に、背理法や対偶の考え方はどう使われるか。",
        answer: "無理数部分が消えずに残ってしまうと有理数係数であることに矛盾することを利用する",
        rationale: "<strong>解説: </strong><br>共役無理数の性質証明です。<br>代入して整理した式 $A + B\\sqrt{b} = 0$ において、もし $B \\neq 0$ なら $\\sqrt{b} = -A/B$（有理数）となり矛盾します。<br>よって $B=0$（かつ $A=0$）でなければならず、符号を変えた解も成立します。" + VIDEO_LINK
    },
    // 問題 42
    {
        question: "命題「自然数 $n$ について、$n^2$ が $p$ の倍数ならば $n$ も $p$ の倍数である」が成り立つための $p$ の条件は何か。背理法で証明できる条件。",
        answer: "$p$ が素数であること",
        rationale: "<strong>解説: </strong><br>$p$ が合成数（例：4）だと、$n^2$ が4の倍数でも $n$ が4の倍数とは限りません（$n=2$）。<br>$p$ が素数であれば、素因数分解の一意性により背理法（あるいは対偶）で証明可能です。" + VIDEO_LINK
    },
    // 問題 43
    {
        question: "背理法を用いて「$1, \\sqrt{2}, \\sqrt{3}$ は一次独立である（有理数係数 $p, q, r$ について $p+q\\sqrt{2}+r\\sqrt{3}=0$ ならば $p=q=r=0$）」を証明する。$r \\neq 0$ と仮定して変形すると、どんな矛盾が出るか。",
        answer: "$\\sqrt{3} = -(p+q\\sqrt{2})/r$ となり、両辺を2乗すると $\\sqrt{2}$ が有理数で表せてしまい矛盾する",
        rationale: "<strong>解説: </strong><br>無理数の独立性の証明です。<br>一つの無理数を他の無理数の有理数式で表せると仮定し、2乗などの操作で既知の矛盾（$\\sqrt{2}$が有理数など）に帰着させます。" + VIDEO_LINK
    },
    // 問題 44
    {
        question: "「正五角形の一辺と対角線の長さの比は有理数でない」ことを、ユークリッドの互除法的な背理法（無限降下法）で示すときのロジックは何か。",
        answer: "公約数を持つ（有理数比である）と仮定すると、より小さな正五角形が無限に作れてしまい、整数の最小性に矛盾する",
        rationale: "<strong>解説: </strong><br>幾何学的な背理法です。<br>もし比が整数比なら、図形の相似を利用してどんどん小さな整数比の五角形が作れますが、自然数にはこれ以上小さくなれない「1」があるため、無限に小さくすることはできません。" + VIDEO_LINK
    },
    // 問題 45
    {
        question: "命題「$x, y$ が実数で $x+y > 2$ ならば $x > 1$ または $y > 1$」を背理法で証明する。仮定「$x \\leqq 1$ かつ $y \\leqq 1$」から導く矛盾は？",
        answer: "$x+y \\leqq 2$ となり、前提条件 $x+y > 2$ に矛盾する",
        rationale: "<strong>解説: </strong><br>不等式の証明でよくあるパターンです。<br>結論を否定した範囲（最大値が1）では、どう頑張っても和が2を超えられないことを示します。" + VIDEO_LINK
    },
    // 問題 46
    {
        question: "背理法を使うかどうかの判断基準として、「結論が否定しやすい」こと以外に、「仮定の否定」が何をもたらす場合が有効か。",
        answer: "強力な条件（等式や具体的な数値）が手に入り、計算が進めやすくなる場合",
        rationale: "<strong>解説: </strong><br>例えば「$\\neq$」を否定して「$=$」にすると方程式が立てられます。<br>「無理数」を否定して「有理数（分数）」にすると整数の性質が使えます。<br>このように、否定によって「使える道具」が増える場合に背理法は有効です。" + VIDEO_LINK
    },
    // 問題 47
    {
        question: "「どんな $x$ に対しても $x^2 + 1 > 0$」を背理法的に考える。否定して「ある $x$ で $x^2 + 1 \\leqq 0$」と仮定すると、どのような矛盾が出るか。",
        answer: "$x^2 \\leqq -1$ となり、実数の2乗が負になる矛盾",
        rationale: "<strong>解説: </strong><br>実数の定義に関わる矛盾です。<br>2乗して負になる数は実数の範囲には存在しません（虚数単位 $i$ が必要）。" + VIDEO_LINK
    },
    // 問題 48
    {
        question: "命題「$f(x) = x^n + a_{n-1}x^{n-1} + \\dots + a_0 = 0$ ($a_i$は整数) が有理数解を持つならば、それは整数である」を背理法で証明する。有理数解を $p/q$ ($q \\ge 2$、互いに素) と仮定して代入すると、どのような矛盾が生じるか。",
        answer: "$p^n$ が $q$ で割り切れることになり、互いに素であることに矛盾する",
        rationale: "<strong>解説: </strong><br>代入して分母を払うと $p^n = -q(a_{n-1}p^{n-1} + \\dots + a_0 q^{n-1})$ となります。<br>右辺は $q$ の倍数ですが、左辺 $p^n$ は $p, q$ が互いに素なら $q$ の倍数になり得ません（$q \\ge 2$）。<br>よって $q=1$ でなければならず、解は整数です。" + VIDEO_LINK
    },
    // 問題 49
    {
        question: "「$a, b, c$ は正の整数で $a^2+b^2=c^2$ を満たすとき、$a, b$ がともに素数となることはない」を背理法で証明する。$a, b$ が素数（特に奇素数）と仮定した場合、偶奇性からどのような矛盾が生じるか。",
        answer: "$a, b$ が奇素数なら $a^2+b^2$ は偶数（$2\\times奇$）だが4の倍数でない。しかし偶数の平方数 $c^2$ は必ず4の倍数なので矛盾する",
        rationale: "<strong>解説: </strong><br>奇数の2乗和は $4k+2$ の形になります。<br>しかし、平方数が偶数になるならそれは $2k$ の2乗で $4k^2$（4の倍数）になるはずです。<br>2余る数は平方数になり得ません。<br>（片方が2の場合だけ別途検討が必要ですが、3辺の長さの関係で矛盾します）" + VIDEO_LINK
    },
    // 問題 50
    {
        question: "背理法の論理構造 $P \\land \\bar{Q} \\implies \\text{False}$ は、元の命題 $P \\implies Q$ と同値であることを説明せよ。",
        answer: "「$P$ ならば $Q$」が偽になる唯一のケースは「$P$ が真で $Q$ が偽」の場合。背理法はこのケースが存在しない（矛盾する）ことを示すため、元の命題が真であると確定する",
        rationale: "<strong>解説: </strong><br>論理学的な解説です。<br>命題への反例（仮定は満たすが結論は満たさないもの）が存在しないことを示すのが背理法です。<br>反例が存在しないならば、その命題は常に正しいと言えます。" + VIDEO_LINK
    }
];